<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <!--
    Use a content security policy to only allow loading images from https or from our extension directory,
    and only allow scripts that have a specific nonce.
    Adjust 'img-src' and 'style-src' based on your needs.
    -->
    <meta http-equiv="Content-Security-Policy" content="
        default-src 'none';
        style-src ${cspSource} 'unsafe-inline';
        script-src 'nonce-${nonce}';
        img-src ${cspSource} https:;
        font-src ${cspSource};
    ">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="${styleUri}" rel="stylesheet">

    <title>Gemini Chat</title>
    <style nonce="${nonce}">
        /* Simple style to visually hide the label */
        .visually-hidden {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }
    </style>
</head>
<body>
    <div class="chat-container">
        <div id="messages" class="messages-area" aria-live="polite" aria-atomic="false">
            <!-- Chat messages will be appended here -->
        </div>
        <div class="input-area">
            <label for="message-input" class="visually-hidden">Chat Input</label>
            <textarea id="message-input" placeholder="Type your message or command..."></textarea>
            <button id="send-button" type="button">Send</button>
        </div>
    </div>

    <script nonce="${nonce}" src="${scriptUri}"></script>
</body>
</html>
